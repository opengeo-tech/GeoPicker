version: '3'

networks:
  default:
    driver: bridge

services:

  geotiff:
    container_name: geotiff
    image: geotiff:latest
    build:
      context: ../
      dockerfile: ./server/Dockerfile
    ports:
      - "8080:8080"
    volumes:
      - "./server/config.yml:/server/config.yml"
      - "./tests/data:/data"

  geotiff-test:
    container_name: geotiff-test
    #image: geotiff:latest
    build:
      context: ../
      dockerfile: ./server/Dockerfile.alpine
    ports:
      - "8080:8080"
    volumes:
      - "./server/config.yml:/server/config.yml"
      - "./tests/data:/data"