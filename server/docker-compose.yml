version: '3'

networks:
  default:
    driver: bridge

services:

  geopicker:
    container_name: geo-picker
    image: geo-picker:latest
    build:
      context: ../
      dockerfile: ./server/Dockerfile
    ports:
      - "8080:8080"
    volumes:
      - "../index.html:/server/index.html"
      - "../tests/data:/data"
    environment:
      - DEMO_PAGE=true

  # test:
  #   container_name: geo-picker-test
  #   image: geo-picker-test:latest
  #   build:
  #     context: ../
  #     dockerfile: ./tests/Dockerfile.alpine
  #     #dockerfile: ./tests/Dockerfile.osgeo
  #   ports:
  #     - "8081:8080"
  #   volumes:
  #     - "../tests/data:/data"
  #   environment:
  #     - DEMO_PAGE=true
