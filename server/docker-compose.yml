version: '3'

networks:
  default:
    driver: bridge

services:

  geotiff:
    container_name: geotiff-picker
    image: geotiff-picker:latest
    build:
      context: ../
      dockerfile: ./server/Dockerfile
    ports:
      - "8080:8080"
    volumes:
      - "./server/config.yml:/server/config.yml"
      - "./tests/data:/data"

  test:
    container_name: geotiff-picker-test
    image: geotiff-picker-test:latest
    build:
      context: ../
      dockerfile: ./server/Dockerfile.alpine
      #dockerfile: ./server/Dockerfile.osgeo
    ports:
      - "8080:8080"
    volumes:
      - "./server/config.yml:/server/config.yml"
      - "./tests/data:/data"
